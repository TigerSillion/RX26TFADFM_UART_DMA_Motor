# 工程规范：注释、测试、变更记录

## 1. 注释规范
- `smc_gen` 用户区新增代码必须带 `USER CODE SAFE` 注释。
- 应用层复杂流程（中断协作、状态机、时序）必须写简短说明。
- 禁止无信息量注释。

## 2. 测试规范
- 每次功能变更至少执行：
  1. 最小编译检查（改动相关文件）
  2. UART 回环烟测（单字节）
  3. 连续 10,000 字节压力测试
- 每次测试必须记录：
  - 时间
  - 命令
  - 结果（PASS/FAIL）
  - 关键日志摘要

## 3. 变更记录规范
- 任何代码、配置、脚本、文档变更都必须更新：
  - `CHANGELOG.md`（面向项目成员）
  - `docs/CHANGE_RECORDS.md`（工程细节与证据）
- 记录最少字段：
  - 日期时间
  - 执行人
  - 变更文件
  - 变更原因
  - 风险评估
  - 验证结果

## 4. 提交流程
1. 实施代码变更
2. 更新文档与变更记录
3. 执行最小验证
4. 提交 Git
5. 推送远程并保存提交哈希
